{{ define "styles" }}
    {{ $.Scratch.Set "style_opts" (dict "src" "scss/pages/album.scss" "dest" "css/album.css") }}
{{ end }}

{{ define "main" }}
    
{{ $dateFormat := .Site.Params.dateFormat | default "Jan 2 2006" }}    

<div class="post-list__container">
  <ul class="post-list">
    {{ range $post := .Pages }}
    <li class="post">
      <div class="thumbnails">
        {{ range $i, $sequence :=  (seq ( cond (le 5 $post.Params.image_count ) 5 $post.Params.image_count )) }}
        <a href="{{$post.RelPermalink}}" class="thumbnail">
          <img src="./{{ $post.Slug }}/images/{{ $sequence }}.jpg"/>
        </a>
        {{ end }}
      </div>
      <div class="post__header">
        <time class="post__date" datetime="{{ .Date }}"
          >{{ .Date.Format $dateFormat }}</time>
        <h2 class="post__title">
          <a href="{{$post.RelPermalink}}">{{ $post.Title }}</a>
        </h2>
        {{ partial "tags.html" .}}
      </div>
    </li>
    {{ end }}
  </ul>
</div>

{{ end }}
